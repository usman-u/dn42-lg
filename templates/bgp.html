{% extends "base.html" %}
{% block title %} BGP {%endblock%}

{% block content %}

    <div class="p-3 mb-5 bg-body rounded">

      <table class="table table-striped table-hover table-bordered">
        <h2>
{% if router and router|length %}
BGP Peers on  <code> {{ router }} ({{result[0][0]}}) </code> </h2>
{% endif %}
        <a href="{{ request.path }}" class="btn btn-secondary btn-lg active" role="button" aria-pressed="true">Refresh</a>  <p>Last refreshed on: {{time}}</p>
        <thead>
          <tr>
            <th scope="col">IP</th>
            <th scope="col">AS</th>
            <th scope="col">MsgRcvd</th>
            <th scope="col">MsgSent</th>
            <th scope="col">State/PfxRcd</th>
            <th scope="col">Up/Down</th>
          </tr>
        </thead>
        <tbody>

      {% for n in result %}
            <td> <a href="{{ url_for ('get_bgp_peer', router=router, peer=n[2]) }}" >  {{n[2]}}  </a></td>

            <td> <a href="{{ url_for ('whois', router=router , query= n[2] )}}" >  {{n[3]}}  </a></td>
            <td> {{ n[4]}}</td>
            <td> {{ n[5]}}</td>
            <td> <a href="{{ url_for ('peer_bgp_routes', router=router, peer=n[2]) }}" >  {{n[7]}}  </a></td>
            <td> {{ n[6]}}</td>
          </tr>
      {% endfor %}
        </tbody>
      </table>
      <br/>
    </div>

{% endblock%}